<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Báº§u Cua Curry88</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      font-family: 'Segoe UI', sans-serif;
    }
    #gameArea {
      display: none;
    }
    .dice img {
      width: 100px;
      margin: 10px;
    }
    .bet-options img {
      width: 80px;
      cursor: pointer;
      margin: 5px;
      border: 2px solid transparent;
      border-radius: 10px;
    }
    .bet-options img.selected {
      border-color: red;
    }
    .logo {
      font-size: 2rem;
      font-weight: bold;
      color: #dc3545;
    }
  </style>
</head>
<body class="text-center p-4">

  <!-- Logo thay vÃ¬ hÃ¬nh áº£nh -->
  <div class="logo mb-3">
    <i class="bi bi-dice-5-fill"></i> CURRY88
  </div>

  <!-- ÄÄƒng nháº­p/ÄÄƒng kÃ½ -->
  <div id="authArea" class="card p-4 mx-auto" style="max-width: 400px;">
    <ul class="nav nav-tabs mb-3" id="authTab">
      <li class="nav-item"><a class="nav-link active" data-bs-toggle="tab" href="#loginTab">ÄÄƒng nháº­p</a></li>
      <li class="nav-item"><a class="nav-link" data-bs-toggle="tab" href="#registerTab">ÄÄƒng kÃ½</a></li>
    </ul>
    <div class="tab-content">
      <div class="tab-pane fade show active" id="loginTab">
        <input type="text" id="loginUser" class="form-control mb-2" placeholder="TÃ i khoáº£n">
        <input type="password" id="loginPass" class="form-control mb-3" placeholder="Máº­t kháº©u">
        <button class="btn btn-primary w-100" onclick="login()">ÄÄƒng nháº­p</button>
      </div>
      <div class="tab-pane fade" id="registerTab">
        <input type="text" id="registerUser" class="form-control mb-2" placeholder="TÃ i khoáº£n má»›i">
        <input type="password" id="registerPass" class="form-control mb-3" placeholder="Máº­t kháº©u">
        <button class="btn btn-success w-100" onclick="register()">ÄÄƒng kÃ½</button>
      </div>
    </div>
  </div>

  <!-- Khu vá»±c Game -->
  <div id="gameArea">
    <h2 class="my-4">ğŸ² Báº§u Cua Curry88</h2>
    <p>Chá»n má»™t con váº­t Ä‘á»ƒ Ä‘áº·t cÆ°á»£c rá»“i nháº¥n "Tung xÃºc xáº¯c".</p>
    <div class="bet-options d-flex justify-content-center flex-wrap">
      <img src="https://i.imgur.com/6Qh7N4b.png" data-name="Báº§u" onclick="selectBet(this)">
      <img src="https://i.imgur.com/JZWXt1w.png" data-name="Cua" onclick="selectBet(this)">
      <img src="https://i.imgur.com/V08HXcW.png" data-name="TÃ´m" onclick="selectBet(this)">
      <img src="https://i.imgur.com/DpZ8uV0.png" data-name="CÃ¡" onclick="selectBet(this)">
      <img src="https://i.imgur.com/qFcFOoL.png" data-name="Nai" onclick="selectBet(this)">
      <img src="https://i.imgur.com/KoCN0hu.png" data-name="GÃ " onclick="selectBet(this)">
    </div>
    <button class="btn btn-danger mt-3" onclick="rollDice()">ğŸ² Tung xÃºc xáº¯c</button>
    <div class="dice mt-4" id="diceResult"></div>
    <div id="resultMessage" class="mt-3 fw-bold fs-5"></div>
    <button class="btn btn-secondary mt-4" onclick="logout()">ÄÄƒng xuáº¥t</button>
  </div>

  <script>
    let users = JSON.parse(localStorage.getItem("users") || "{}");
    let selectedBet = null;

    function register() {
      const u = document.getElementById("registerUser").value;
      const p = document.getElementById("registerPass").value;
      if (users[u]) {
        alert("TÃ i khoáº£n Ä‘Ã£ tá»“n táº¡i!");
      } else {
        users[u] = p;
        localStorage.setItem("users", JSON.stringify(users));
        alert("ÄÄƒng kÃ½ thÃ nh cÃ´ng! ÄÄƒng nháº­p ngay nhÃ©.");
      }
    }

    function login() {
      const u = document.getElementById("loginUser").value;
      const p = document.getElementById("loginPass").value;
      if (users[u] === p) {
        document.getElementById("authArea").style.display = "none";
        document.getElementById("gameArea").style.display = "block";
      } else {
        alert("Sai tÃ i khoáº£n hoáº·c máº­t kháº©u!");
      }
    }

    function logout() {
      location.reload();
    }

    function selectBet(img) {
      document.querySelectorAll(".bet-options img").forEach(i => i.classList.remove("selected"));
      img.classList.add("selected");
      selectedBet = img.getAttribute("data-name");
    }

    function rollDice() {
      if (!selectedBet) {
        alert("Vui lÃ²ng chá»n má»™t con váº­t Ä‘á»ƒ Ä‘áº·t cÆ°á»£c!");
        return;
      }
      const animals = ["Báº§u", "Cua", "TÃ´m", "CÃ¡", "Nai", "GÃ "];
      const imgUrls = [
        "https://i.imgur.com/6Qh7N4b.png",
        "https://i.imgur.com/JZWXt1w.png",
        "https://i.imgur.com/V08HXcW.png",
        "https://i.imgur.com/DpZ8uV0.png",
        "https://i.imgur.com/qFcFOoL.png",
        "https://i.imgur.com/KoCN0hu.png"
      ];

      const result = [];
      const diceResult = document.getElementById("diceResult");
      diceResult.innerHTML = "";

      for (let i = 0; i < 3; i++) {
        const rand = Math.floor(Math.random() * 6);
        result.push(animals[rand]);
        const img = document.createElement("img");
        img.src = imgUrls[rand];
        diceResult.appendChild(img);
      }

      const match = result.filter(r => r === selectedBet).length;
      const message = match > 0 ? `ğŸ‰ TrÃºng ${match} láº§n!` : "ğŸ’¥ Rá»›t rá»“i, thá»­ láº¡i!";
      document.getElementById("resultMessage").innerText = message;
    }
  </script>

</body>
</html>
